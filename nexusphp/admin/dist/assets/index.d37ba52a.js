var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,t=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,n=(e,n)=>{for(var s in n||(n={}))a.call(n,s)&&o(e,s,n[s]);if(l)for(var s of l(n))t.call(n,s)&&o(e,s,n[s]);return e};import{k as s,x as d,u as i,r as u,A as r,o as m,a as f,s as p,t as c,p as b,m as _,q as h,b as D,d as g,e as y,f as x,j as v,g as V,v as w,F as k,i as S}from"./index.b28443d6.js";import{u as U,r as I}from"./table.fe5c58ce.js";const Y={name:"SettingFormBasic",setup(){const e=s(null),a=d(),l=i(),{id:t}=a.query,o=u({token:r("token")||"",id:t,allClasses:[],formData:{basic:{SITENAME:""}},rules:{"basic.name":[{required:"true"}]}});m((()=>{if(t)f.getExam(t).then((e=>{o.formData.name=e.data.name,o.formData.description=e.data.description,o.formData.begin=e.data.begin,o.formData.end=e.data.end,o.formData.duration=e.data.duration,o.formData.indexes=e.data.indexes,o.formData.filters=e.data.filters,o.formData.status=e.data.status,o.formData.is_discovered=e.data.is_discovered}));else{let e=f.listExamIndex();o.formData.indexes=e.data}})),p((()=>{}));return n(n({},c(o)),{formRef:e,submitAdd:()=>{e.value.validate((async e=>{if(e){let e=o.formData;e.begin&&(e.begin=dayjs(e.begin).format("YYYY-MM-DD HH:mm:ss")),e.end&&(e.end=dayjs(e.end).format("YYYY-MM-DD HH:mm:ss")),console.log(e),t?await f.updateExam(t,e):await f.storeExam(e),await l.push({name:"exam"})}}))},handleBeforeUpload:e=>{const a=e.name.split(".")[1]||"";if(!["jpg","jpeg","png"].includes(a))return h.error("请上传 jpg、jpeg、png 格式的图片"),!1},handleUrlSuccess:e=>{o.formData.goodsCoverImg=e.data||""},handleChangeCate:e=>{o.categoryId=e[2]||0}})}},E=v();b("data-v-15d3f2e9");const N=x("div",{class:"nexus-help-text"}," Website name ",-1),A=V("Submit");_();const M=E(((e,a,l,t,o,n)=>{const s=D("el-input"),d=D("el-form-item"),i=D("el-button"),u=D("el-form");return g(),y(u,{model:e.formData,rules:e.rules,ref:"formRef","label-width":"200px",class:"formData"},{default:E((()=>[x(d,{label:"Site Name",prop:"basic.SITENAME"},{default:E((()=>[x(s,{modelValue:e.formData.basic.SITENAME,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formData.basic.SITENAME=a),placeholder:""},null,8,["modelValue"]),N])),_:1}),x(d,null,{default:E((()=>[x(i,{type:"primary",onClick:a[2]||(a[2]=e=>t.submitAdd())},{default:E((()=>[A])),_:1})])),_:1})])),_:1},8,["model","rules"])}));Y.render=M,Y.__scopeId="data-v-15d3f2e9";const q={name:"SettingFormBasic",setup(){const{proxy:e}=w();console.log("proxy",e);const a=s(null),l=d(),t=i(),{id:o}=l.query,b=u({token:r("token")||"",id:o,allClasses:[],formData:{main:{site_online:"",invitesystem:"",iniupload:"",invite_count:"",invite_timeout:"",verification:"",waitsystem:"",maxdlsystemyes:"",showpolls:"",showstats:"",showtrackerload:"",showforumstats:"",showlastxforumposts:"",showlastxtorrents:"",showhotmovies:"",showclassicmovies:"",showimdbinfo:"",enable_pt_gen_system:"",pt_gen_api_point:"",enablenfo:"",enable_technical_info:"",enableschoolyes:"",restrictemail:"",showshoutbox:"",showfunbox:"",showoffer:"",donation:""}},rules:{"main.site_online":[{required:"true"}]}});m((()=>{if(_(),D(),o)f.getExam(o).then((e=>{b.formData.name=e.data.name,b.formData.description=e.data.description,b.formData.begin=e.data.begin,b.formData.end=e.data.end,b.formData.duration=e.data.duration,b.formData.indexes=e.data.indexes,b.formData.filters=e.data.filters,b.formData.status=e.data.status,b.formData.is_discovered=e.data.is_discovered}));else{let e=f.listExamIndex();b.formData.indexes=e.data}})),p((()=>{}));const _=async()=>{let e=await f.listClass();b.allClasses=e.data},D=async()=>{let e=await f.listExamIndex();b.formData.indexes=e.data};return n(n({},c(b)),{formRef:a,submitAdd:()=>{a.value.validate((async e=>{if(e){let e=b.formData;e.begin&&(e.begin=dayjs(e.begin).format("YYYY-MM-DD HH:mm:ss")),e.end&&(e.end=dayjs(e.end).format("YYYY-MM-DD HH:mm:ss")),console.log(e),o?await f.updateExam(o,e):await f.storeExam(e),await t.push({name:"exam"})}}))},handleBeforeUpload:e=>{const a=e.name.split(".")[1]||"";if(!["jpg","jpeg","png"].includes(a))return h.error("请上传 jpg、jpeg、png 格式的图片"),!1},handleUrlSuccess:e=>{b.formData.goodsCoverImg=e.data||""},handleChangeCate:e=>{b.categoryId=e[2]||0}})}},j=v();b("data-v-49e8d15a");const C=V("Yes"),H=V("No"),T=x("div",{class:"nexus-help-text"}," Default 'yes'. Want to turn off your site while performing updates or other types of maintenance? Please Note: Administrators will still be able to see the site. ",-1),F=V("Yes"),G=V("No"),R=x("div",{class:"nexus-help-text"}," Default 'yes'. Allow Registrations via Invite System. ",-1),B=x("div",{class:"nexus-help-text"}," How many uploading credit (in Byte, i.e. 1073741824 = 1GB) should each user be given upon registration? Default '0'. ",-1),O=x("div",{class:"nexus-help-text"}," How many invites should each user be given upon registration? Default '0'. ",-1),P=x("div",{class:"nexus-help-text"}," In days. Delete invite code after X days who didn't respond the invite request. Default '7'. ",-1),L=V("Yes"),W=V("No"),z=x("div",{class:"nexus-help-text"}," Allow open registrations. Default 'yes'. ",-1),Q=V("Email"),K=V("Admin"),X=V("Automatically"),J=x("div",{class:"nexus-help-text"}," EMAIL: Sent confirmation email. ADMIN: Manual activate. AUTOMATIC: Activate user after registration. ",-1),Z=V("Yes"),$=V("No"),ee=x("div",{class:"nexus-help-text"}," Enable or disable wait system (see FAQ). ",-1),ae=V("Yes"),le=V("No"),te=x("div",{class:"nexus-help-text"}," Default 'no'. Enable or disable maximum concurrent downloads (AKA Max Slots) (see FAQ). ",-1),oe=V("Yes"),ne=V("No"),se=x("div",{class:"nexus-help-text"}," Default 'yes'. Show POLL system on main page. ",-1),de=V("Yes"),ie=V("No"),ue=x("div",{class:"nexus-help-text"}," Default 'yes'. Show STATS system on main page. ",-1),re=V("Yes"),me=V("No"),fe=x("div",{class:"nexus-help-text"}," Default 'no'. Show Last x Forum Posts on main page. ",-1),pe=V("Yes"),ce=V("No"),be=x("div",{class:"nexus-help-text"}," Default 'no'. Show Last x Torrents on main page. ",-1),_e=V("Yes"),he=V("No"),De=x("div",{class:"nexus-help-text"}," Default 'yes'. Show Server Load on main page. ",-1),ge=V("Yes"),ye=V("No"),xe=x("div",{class:"nexus-help-text"}," Default 'yes'. Show forum stats on forums page. ",-1),ve=V("Yes"),Ve=V("No"),we=x("div",{class:"nexus-help-text"}," Default 'yes'. Show hot resources on main page. Hot resources are automatically picked by system or manually by staff members. ",-1),ke=V("Yes"),Se=V("No"),Ue=x("div",{class:"nexus-help-text"}," Default 'no'. Show classic resources on main page. Only designated moderators or above can pick classic resources. ",-1),Ie=V("Yes"),Ye=V("No"),Ee=x("div",{class:"nexus-help-text"}," Default 'yes'. System-wide IMDb info setting. ",-1),Ne=V("Yes"),Ae=V("No"),Me=x("div",{class:"nexus-help-text"}," Default 'no'. System-wide PT-Gen info setting. ",-1),qe=x("div",{class:"nexus-help-text"}," Default '', when required, reference to Documatation to build yourself ",-1),je=V("Yes"),Ce=V("No"),He=x("div",{class:"nexus-help-text"}," Default 'yes'. System-wide NFO setting. ",-1),Te=V("Yes"),Fe=V("No"),Ge=x("div",{class:"nexus-help-text"}," Default 'No'. Technical Information comes from software MediaInfo Text view ",-1),Re=V("Yes"),Be=V("No"),Oe=x("div",{class:"nexus-help-text"},[V(" Default 'no'. "),x("span",{style:{color:"red","font-weight":"bold"}},"DO NOT"),V(" enable this unless you know what you are doing! ")],-1),Pe=V("Yes"),Le=V("No"),We=x("div",{class:"nexus-help-text"}," Default 'no'. Set it to 'yes' to only allow certain email domains to register. See here. ",-1),ze=V("Yes"),Qe=V("No"),Ke=x("div",{class:"nexus-help-text"}," Default 'yes'. Show shoutbox on main page. ",-1),Xe=V("Yes"),Je=V("No"),Ze=x("div",{class:"nexus-help-text"}," Default 'no'. Show funbox on main page. ",-1),$e=V("Yes"),ea=V("No"),aa=x("div",{class:"nexus-help-text"}," Default 'yes'. Enable or disable offer section. ",-1),la=V("Yes"),ta=V("No"),oa=x("div",{class:"nexus-help-text"}," Show donation and donation top ten. ",-1),na=V("Submit");_();const sa=j(((e,a,l,t,o,n)=>{const s=D("el-radio"),d=D("el-radio-group"),i=D("el-form-item"),u=D("el-input"),r=D("el-button"),m=D("el-form");return g(),y(m,{model:e.formData,rules:e.rules,ref:"formRef","label-width":"250px",class:"formData"},{default:j((()=>[x(i,{label:"Site online",prop:"main.site_online"},{default:j((()=>[x(d,{modelValue:e.formData.main.site_online,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formData.main.site_online=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[C])),_:1}),x(s,{label:"no"},{default:j((()=>[H])),_:1})])),_:1},8,["modelValue"]),T])),_:1}),x(i,{label:"Enable invite system",prop:"main.invitesystem"},{default:j((()=>[x(d,{modelValue:e.formData.main.invitesystem,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.main.invitesystem=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[F])),_:1}),x(s,{label:"no"},{default:j((()=>[G])),_:1})])),_:1},8,["modelValue"]),R])),_:1}),x(i,{label:"Initial uploading amount",prop:"main.iniupload"},{default:j((()=>[x(u,{modelValue:e.formData.main.iniupload,"onUpdate:modelValue":a[3]||(a[3]=a=>e.formData.main.iniupload=a),placeholder:"",type:"number"},null,8,["modelValue"]),B])),_:1}),x(i,{label:"Initial number of invites",prop:"main.invite_count"},{default:j((()=>[x(u,{modelValue:e.formData.main.invite_count,"onUpdate:modelValue":a[4]||(a[4]=a=>e.formData.main.invite_count=a),placeholder:"",type:"number"},null,8,["modelValue"]),O])),_:1}),x(i,{label:"Invite timeout",prop:"main.invite_timeout"},{default:j((()=>[x(u,{modelValue:e.formData.main.invite_timeout,"onUpdate:modelValue":a[5]||(a[5]=a=>e.formData.main.invite_timeout=a),placeholder:"",type:"number"},null,8,["modelValue"]),P])),_:1}),x(i,{label:"Enable registration system",prop:"main.registration"},{default:j((()=>[x(d,{modelValue:e.formData.main.registration,"onUpdate:modelValue":a[6]||(a[6]=a=>e.formData.main.registration=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[L])),_:1}),x(s,{label:"no"},{default:j((()=>[W])),_:1})])),_:1},8,["modelValue"]),z])),_:1}),x(i,{label:"Verification type",prop:"main.verification"},{default:j((()=>[x(d,{modelValue:e.formData.main.verification,"onUpdate:modelValue":a[7]||(a[7]=a=>e.formData.main.verification=a)},{default:j((()=>[x(s,{label:"email"},{default:j((()=>[Q])),_:1}),x(s,{label:"admin"},{default:j((()=>[K])),_:1}),x(s,{label:"automatic"},{default:j((()=>[X])),_:1})])),_:1},8,["modelValue"]),J])),_:1}),x(i,{label:"Enable wait system",prop:"main.waitsystem"},{default:j((()=>[x(d,{modelValue:e.formData.main.waitsystem,"onUpdate:modelValue":a[8]||(a[8]=a=>e.formData.main.waitsystem=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[Z])),_:1}),x(s,{label:"no"},{default:j((()=>[$])),_:1})])),_:1},8,["modelValue"]),ee])),_:1}),x(i,{label:"Enable max slots system",prop:"main.maxdlsystemyes"},{default:j((()=>[x(d,{modelValue:e.formData.main.maxdlsystemyes,"onUpdate:modelValue":a[9]||(a[9]=a=>e.formData.main.maxdlsystemyes=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[ae])),_:1}),x(s,{label:"no"},{default:j((()=>[le])),_:1})])),_:1},8,["modelValue"]),te])),_:1}),x(i,{label:"Show polls",prop:"main.showpolls"},{default:j((()=>[x(d,{modelValue:e.formData.main.showpolls,"onUpdate:modelValue":a[10]||(a[10]=a=>e.formData.main.showpolls=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[oe])),_:1}),x(s,{label:"no"},{default:j((()=>[ne])),_:1})])),_:1},8,["modelValue"]),se])),_:1}),x(i,{label:"Show stats",prop:"main.showstats"},{default:j((()=>[x(d,{modelValue:e.formData.main.showstats,"onUpdate:modelValue":a[11]||(a[11]=a=>e.formData.main.showstats=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[de])),_:1}),x(s,{label:"no"},{default:j((()=>[ie])),_:1})])),_:1},8,["modelValue"]),ue])),_:1}),x(i,{label:"Show last x forum posts",prop:"main.showlastxforumposts"},{default:j((()=>[x(d,{modelValue:e.formData.main.showlastxforumposts,"onUpdate:modelValue":a[12]||(a[12]=a=>e.formData.main.showlastxforumposts=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[re])),_:1}),x(s,{label:"no"},{default:j((()=>[me])),_:1})])),_:1},8,["modelValue"]),fe])),_:1}),x(i,{label:"Show Last x Torrents",prop:"main.showlastxtorrents"},{default:j((()=>[x(d,{modelValue:e.formData.main.showlastxtorrents,"onUpdate:modelValue":a[13]||(a[13]=a=>e.formData.main.showlastxtorrents=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[pe])),_:1}),x(s,{label:"no"},{default:j((()=>[ce])),_:1})])),_:1},8,["modelValue"]),be])),_:1}),x(i,{label:"Show server load",prop:"main.showtrackerload"},{default:j((()=>[x(d,{modelValue:e.formData.main.showtrackerload,"onUpdate:modelValue":a[14]||(a[14]=a=>e.formData.main.showtrackerload=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[_e])),_:1}),x(s,{label:"no"},{default:j((()=>[he])),_:1})])),_:1},8,["modelValue"]),De])),_:1}),x(i,{label:"Show forum stats",prop:"main.showforumstats"},{default:j((()=>[x(d,{modelValue:e.formData.main.showforumstats,"onUpdate:modelValue":a[15]||(a[15]=a=>e.formData.main.showforumstats=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[ge])),_:1}),x(s,{label:"no"},{default:j((()=>[ye])),_:1})])),_:1},8,["modelValue"]),xe])),_:1}),x(i,{label:"Show hot",prop:"main.showhotmovies"},{default:j((()=>[x(d,{modelValue:e.formData.main.showhotmovies,"onUpdate:modelValue":a[16]||(a[16]=a=>e.formData.main.showhotmovies=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[ve])),_:1}),x(s,{label:"no"},{default:j((()=>[Ve])),_:1})])),_:1},8,["modelValue"]),we])),_:1}),x(i,{label:"Show classic",prop:"main.showclassicmovies"},{default:j((()=>[x(d,{modelValue:e.formData.main.showclassicmovies,"onUpdate:modelValue":a[17]||(a[17]=a=>e.formData.main.showclassicmovies=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[ke])),_:1}),x(s,{label:"no"},{default:j((()=>[Se])),_:1})])),_:1},8,["modelValue"]),Ue])),_:1}),x(i,{label:"Enable IMDb system",prop:"main.showimdbinfo"},{default:j((()=>[x(d,{modelValue:e.formData.main.showimdbinfo,"onUpdate:modelValue":a[18]||(a[18]=a=>e.formData.main.showimdbinfo=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[Ie])),_:1}),x(s,{label:"no"},{default:j((()=>[Ye])),_:1})])),_:1},8,["modelValue"]),Ee])),_:1}),x(i,{label:"Enable PT-Gen system",prop:"main.enable_pt_gen_system"},{default:j((()=>[x(d,{modelValue:e.formData.main.enable_pt_gen_system,"onUpdate:modelValue":a[19]||(a[19]=a=>e.formData.main.enable_pt_gen_system=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[Ne])),_:1}),x(s,{label:"no"},{default:j((()=>[Ae])),_:1})])),_:1},8,["modelValue"]),Me])),_:1}),x(i,{label:"PT-Gen api point",prop:"main.pt_gen_api_point"},{default:j((()=>[x(u,{modelValue:e.formData.main.pt_gen_api_point,"onUpdate:modelValue":a[20]||(a[20]=a=>e.formData.main.pt_gen_api_point=a),placeholder:""},null,8,["modelValue"]),qe])),_:1}),x(i,{label:"Enable NFO",prop:"main.enablenfo"},{default:j((()=>[x(d,{modelValue:e.formData.main.enablenfo,"onUpdate:modelValue":a[21]||(a[21]=a=>e.formData.main.enablenfo=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[je])),_:1}),x(s,{label:"no"},{default:j((()=>[Ce])),_:1})])),_:1},8,["modelValue"]),He])),_:1}),x(i,{label:"Enable technical information",prop:"main.enable_technical_info"},{default:j((()=>[x(d,{modelValue:e.formData.main.enable_technical_info,"onUpdate:modelValue":a[22]||(a[22]=a=>e.formData.main.enable_technical_info=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[Te])),_:1}),x(s,{label:"no"},{default:j((()=>[Fe])),_:1})])),_:1},8,["modelValue"]),Ge])),_:1}),x(i,{label:"Enable school system",prop:"main.enableschoolyes"},{default:j((()=>[x(d,{modelValue:e.formData.main.enableschoolyes,"onUpdate:modelValue":a[23]||(a[23]=a=>e.formData.main.enableschoolyes=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[Re])),_:1}),x(s,{label:"no"},{default:j((()=>[Be])),_:1})])),_:1},8,["modelValue"]),Oe])),_:1}),x(i,{label:"Restrict email domain",prop:"main.restrictemail"},{default:j((()=>[x(d,{modelValue:e.formData.main.restrictemail,"onUpdate:modelValue":a[24]||(a[24]=a=>e.formData.main.restrictemail=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[Pe])),_:1}),x(s,{label:"no"},{default:j((()=>[Le])),_:1})])),_:1},8,["modelValue"]),We])),_:1}),x(i,{label:"Show Shoutbox",prop:"main.showshoutbox"},{default:j((()=>[x(d,{modelValue:e.formData.main.showshoutbox,"onUpdate:modelValue":a[25]||(a[25]=a=>e.formData.main.showshoutbox=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[ze])),_:1}),x(s,{label:"no"},{default:j((()=>[Qe])),_:1})])),_:1},8,["modelValue"]),Ke])),_:1}),x(i,{label:"Show funbox",prop:"main.showfunbox"},{default:j((()=>[x(d,{modelValue:e.formData.main.showfunbox,"onUpdate:modelValue":a[26]||(a[26]=a=>e.formData.main.showfunbox=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[Xe])),_:1}),x(s,{label:"no"},{default:j((()=>[Je])),_:1})])),_:1},8,["modelValue"]),Ze])),_:1}),x(i,{label:"Enable offer section",prop:"main.showoffer"},{default:j((()=>[x(d,{modelValue:e.formData.main.showoffer,"onUpdate:modelValue":a[27]||(a[27]=a=>e.formData.main.showoffer=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[$e])),_:1}),x(s,{label:"no"},{default:j((()=>[ea])),_:1})])),_:1},8,["modelValue"]),aa])),_:1}),x(i,{label:"Enable Donation",prop:"main.donation"},{default:j((()=>[x(d,{modelValue:e.formData.main.donation,"onUpdate:modelValue":a[28]||(a[28]=a=>e.formData.main.donation=a)},{default:j((()=>[x(s,{label:"yes"},{default:j((()=>[la])),_:1}),x(s,{label:"no"},{default:j((()=>[ta])),_:1})])),_:1},8,["modelValue"]),oa])),_:1}),x(i,null,{default:j((()=>[x(r,{type:"primary",onClick:a[29]||(a[29]=e=>t.submitAdd())},{default:j((()=>[na])),_:1})])),_:1})])),_:1},8,["model","rules"])}));q.render=sa,q.__scopeId="data-v-49e8d15a";const da={name:"SettingFormBasic",setup(){const e=s(null),a=d();i();const{id:l}=a.query,t=u({loading:!1,token:r("token")||"",id:l,allClasses:[],formData:{backup:{enabled:"",frequency:"",hour:"",minute:"",google_drive_client_id:"",google_drive_client_secret:"",google_drive_refresh_token:"",google_drive_folder_id:""}},rules:{"backup.enabled":[{required:"true"}]}});m((()=>{})),p((()=>{}));const o=async()=>{t.loading=!0;let e=await f.listSetting({prefix:"backup"});console.log("listSetting",e),t.formData=e.data,t.loading=!1};return n(n({},c(t)),{formRef:e,submitAdd:()=>{e.value.validate((async e=>{if(e){let e=t.formData;console.log(e);let a=await f.storeSetting(e);h.success(a.msg),await o()}}))},handleBeforeUpload:e=>{const a=e.name.split(".")[1]||"";if(!["jpg","jpeg","png"].includes(a))return h.error("请上传 jpg、jpeg、png 格式的图片"),!1},listSetting:o})}},ia=v();b("data-v-822feb90");const ua=V("Yes"),ra=V("No"),ma=x("div",{class:"nexus-help-text"}," Enable backup or not. ",-1),fa=V("Daily"),pa=V("Hourly"),ca=x("div",{class:"nexus-help-text"}," Backup Frequency. ",-1),ba=x("div",{class:"nexus-help-text"}," Do backup at this hour, If frequency = 'hourly', this value will be ignore. ",-1),_a=x("div",{class:"nexus-help-text"}," Do backup at this minute. ",-1),ha=x("div",{class:"nexus-help-text"}," Google drive client ID. ",-1),Da=x("div",{class:"nexus-help-text"}," Google drive client secret. ",-1),ga=x("div",{class:"nexus-help-text"}," Google drive refresh token. ",-1),ya=x("div",{class:"nexus-help-text"}," Google drive folder ID. If not set, will store in root. ",-1),xa=V("Submit");_();const va=ia(((e,a,l,t,o,n)=>{const s=D("el-radio"),d=D("el-form-item"),i=D("el-option"),u=D("el-select"),r=D("el-input"),m=D("el-button"),f=D("el-form");return g(),y(f,{model:e.formData,rules:e.rules,ref:"formRef","label-width":"250px",class:"formData",size:"mini","v-loading":e.loading},{default:ia((()=>[x(d,{label:"Enabled",prop:"backup.enabled"},{default:ia((()=>[x(s,{modelValue:e.formData.backup.enabled,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formData.backup.enabled=a),label:"yes"},{default:ia((()=>[ua])),_:1},8,["modelValue"]),x(s,{modelValue:e.formData.backup.enabled,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.backup.enabled=a),label:"no"},{default:ia((()=>[ra])),_:1},8,["modelValue"]),ma])),_:1}),x(d,{label:"Frequency",prop:"backup.frequency"},{default:ia((()=>[x(s,{modelValue:e.formData.backup.frequency,"onUpdate:modelValue":a[3]||(a[3]=a=>e.formData.backup.frequency=a),label:"daily"},{default:ia((()=>[fa])),_:1},8,["modelValue"]),x(s,{modelValue:e.formData.backup.frequency,"onUpdate:modelValue":a[4]||(a[4]=a=>e.formData.backup.frequency=a),label:"hourly"},{default:ia((()=>[pa])),_:1},8,["modelValue"]),ca])),_:1}),x(d,{label:"Hour",prop:"backup.hour"},{default:ia((()=>[x(u,{modelValue:e.formData.backup.hour,"onUpdate:modelValue":a[5]||(a[5]=a=>e.formData.backup.hour=a),filterable:""},{default:ia((()=>[(g(),y(k,null,S(24,(e=>x(i,{key:e,label:e-1,value:e-1},null,8,["label","value"]))),64))])),_:1},8,["modelValue"]),ba])),_:1}),x(d,{label:"Minute",prop:"backup.minute"},{default:ia((()=>[x(u,{modelValue:e.formData.backup.minute,"onUpdate:modelValue":a[6]||(a[6]=a=>e.formData.backup.minute=a),filterable:""},{default:ia((()=>[(g(),y(k,null,S(60,(e=>x(i,{key:e,label:e-1,value:e-1},null,8,["label","value"]))),64))])),_:1},8,["modelValue"]),_a])),_:1}),x(d,{label:"Google drive client ID",prop:"backup.google_drive_client_id"},{default:ia((()=>[x(r,{modelValue:e.formData.backup.google_drive_client_id,"onUpdate:modelValue":a[7]||(a[7]=a=>e.formData.backup.google_drive_client_id=a),label:"Google drive client ID"},null,8,["modelValue"]),ha])),_:1}),x(d,{label:"Google drive client secret",prop:"backup.google_drive_client_secret"},{default:ia((()=>[x(r,{modelValue:e.formData.backup.google_drive_client_secret,"onUpdate:modelValue":a[8]||(a[8]=a=>e.formData.backup.google_drive_client_secret=a),label:"Google drive client secret"},null,8,["modelValue"]),Da])),_:1}),x(d,{label:"Google drive refresh token",prop:"backup.google_drive_refresh_token"},{default:ia((()=>[x(r,{modelValue:e.formData.backup.google_drive_refresh_token,"onUpdate:modelValue":a[9]||(a[9]=a=>e.formData.backup.google_drive_refresh_token=a),label:"Google drive refresh token"},null,8,["modelValue"]),ga])),_:1}),x(d,{label:"Google drive folder ID",prop:"backup.google_drive_folder_id"},{default:ia((()=>[x(r,{modelValue:e.formData.backup.google_drive_folder_id,"onUpdate:modelValue":a[10]||(a[10]=a=>e.formData.backup.google_drive_folder_id=a),label:"Google drive folder ID"},null,8,["modelValue"]),ya])),_:1}),x(d,null,{default:ia((()=>[x(m,{type:"primary",onClick:a[11]||(a[11]=e=>t.submitAdd())},{default:ia((()=>[xa])),_:1})])),_:1})])),_:1},8,["model","rules","v-loading"])}));da.render=va,da.__scopeId="data-v-822feb90";const Va={name:"SettingFormHR",setup(){const e=s(null),a=d();i();const{id:l}=a.query,t=u({token:r("token")||"",id:l,allClasses:[],formData:{hr:{mode:"",inspect_time:"",seed_time_minimum:"",ignore_when_ratio_reach:"",ban_user_when_counts_reach:""}},rules:{"hr.enabled":[{required:"true"}]}});m((()=>{})),p((()=>{}));const o=async()=>{let e=await f.listSetting({prefix:"hr"});console.log("listSetting",e),t.formData=e.data};return n(n({},c(t)),{formRef:e,submitAdd:()=>{e.value.validate((async e=>{if(e){let e=t.formData;console.log(e);let a=await f.storeSetting(e);h.success(a.msg),await o()}}))},listSetting:o})}},wa=v();b("data-v-2c3dd864");const ka=V("Disabled"),Sa=V("Manual"),Ua=V("Global"),Ia=x("div",{class:"nexus-help-text"}," Set H&R mode. ",-1),Ya=x("div",{class:"nexus-help-text"}," Inspect time duration after download complete(Unit: Hour). ",-1),Ea=x("div",{class:"nexus-help-text"}," Seed time minimum (Unit: Hour, must be less than Inspect time). ",-1),Na=x("div",{class:"nexus-help-text"}," When ratio reach this value, this H&R will be ignored. ",-1),Aa=x("div",{class:"nexus-help-text"}," When total H&R counts reach this value, user account will be disabled. ",-1),Ma=V("Submit");_();const qa=wa(((e,a,l,t,o,n)=>{const s=D("el-radio"),d=D("el-form-item"),i=D("el-input"),u=D("el-button"),r=D("el-form");return g(),y(r,{model:e.formData,rules:e.rules,ref:"formRef","label-width":"250px",class:"formData",size:"mini"},{default:wa((()=>[x(d,{label:"Mode",prop:"hr.mode"},{default:wa((()=>[x(s,{modelValue:e.formData.hr.mode,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formData.hr.mode=a),label:"disabled"},{default:wa((()=>[ka])),_:1},8,["modelValue"]),x(s,{modelValue:e.formData.hr.mode,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.hr.mode=a),label:"manual"},{default:wa((()=>[Sa])),_:1},8,["modelValue"]),x(s,{modelValue:e.formData.hr.mode,"onUpdate:modelValue":a[3]||(a[3]=a=>e.formData.hr.mode=a),label:"global"},{default:wa((()=>[Ua])),_:1},8,["modelValue"]),Ia])),_:1}),x(d,{label:"Inspect time",prop:"hr.inspect_time"},{default:wa((()=>[x(i,{modelValue:e.formData.hr.inspect_time,"onUpdate:modelValue":a[4]||(a[4]=a=>e.formData.hr.inspect_time=a),type:"number"},null,8,["modelValue"]),Ya])),_:1}),x(d,{label:"Seed time minimum",prop:"hr.seed_time_minimum"},{default:wa((()=>[x(i,{modelValue:e.formData.hr.seed_time_minimum,"onUpdate:modelValue":a[5]||(a[5]=a=>e.formData.hr.seed_time_minimum=a),type:"number"},null,8,["modelValue"]),Ea])),_:1}),x(d,{label:"Ignore",prop:"hr.ignore_when_ratio_reach"},{default:wa((()=>[x(i,{modelValue:e.formData.hr.ignore_when_ratio_reach,"onUpdate:modelValue":a[6]||(a[6]=a=>e.formData.hr.ignore_when_ratio_reach=a),type:"number"},null,8,["modelValue"]),Na])),_:1}),x(d,{label:"Disable user",prop:"hr.disable_user_when_counts_reach"},{default:wa((()=>[x(i,{modelValue:e.formData.hr.ban_user_when_counts_reach,"onUpdate:modelValue":a[7]||(a[7]=a=>e.formData.hr.ban_user_when_counts_reach=a)},null,8,["modelValue"]),Aa])),_:1}),x(d,null,{default:wa((()=>[x(u,{type:"primary",onClick:a[8]||(a[8]=e=>t.submitAdd())},{default:wa((()=>[Ma])),_:1})])),_:1})])),_:1},8,["model","rules"])}));Va.render=qa,Va.__scopeId="data-v-2c3dd864";const ja={name:"Setting",components:{FormBasic:Y,FormMain:q,FormBackup:da,FormHR:Va},setup(){const e=s(null),a=i(),l=s(null),t=s(null),o=U();let d=0;const u=[l,t];m((()=>{console.log("Setting onMounted"),u[d].value.listSetting()}));const r=async()=>{o.loading=!0;let e=await f.listExam(o.query);I(e,o),o.loading=!1};return n(n({},c(o)),{multipleTable:e,handleSelectionChange:e=>{o.multipleSelection=e},handleAdd:()=>{a.push({name:"exam-form"})},handleEdit:e=>{a.push({path:"/exam-form",query:{id:e}})},handleDelete:async e=>{let a=await f.deleteExam(e);h.success(a.msg),o.query.page=1,await r()},handleTabClick:e=>{d=e.index,u[d].value.listSetting()},fetchTableData:r,changePage:e=>{o.query.page=e,r()},backup:l,hr:t})}},Ca=v(),Ha=Ca(((e,a,l,t,o,n)=>{const s=D("FormBackup"),d=D("el-tab-pane"),i=D("FormHR"),u=D("el-tabs");return g(),y(u,{type:"border-card",onTabClick:t.handleTabClick},{default:Ca((()=>[x(d,{label:"Backup"},{default:Ca((()=>[x(s,{ref:"backup"},null,512)])),_:1}),x(d,{label:"H&R"},{default:Ca((()=>[x(i,{ref:"hr"},null,512)])),_:1})])),_:1},8,["onTabClick"])}));ja.render=Ha,ja.__scopeId="data-v-ed4db216";export default ja;
